{% extends 'base.html.twig' %}
{% block title %}Skenování inventury{% endblock %}
{% block body %}
  <h2>Skenování</h2>
  {% for m in app.flashes('error') %}<p class="ErrorMsg">{{ m }}</p>{% endfor %}
  {% for m in app.flashes('warning') %}<p class="WarningMsg">{{ m }}</p>{% endfor %}
  {% for m in app.flashes('success') %}<p class="DoneMsg">{{ m }}</p>{% endfor %}

  <form method="post" action="{{ path('inventory_scan_add_ean') }}">
    <input name="ean" placeholder="Načti / zadej EAN" autofocus>
    <button type="submit">Přidat</button>
  </form>

  <form method="post" action="{{ path('inventory_scan_delete_all') }}" style="margin-top:8px">
    <button type="submit" onclick="return confirm('Smazat všechny záznamy?')">Smazat vše</button>
  </form>

  <p>Počet záznamů: {{ rows|length }}</p>
  <table border="1" cellpadding="6">
    <tr>
      <th>ID</th><th>Produkt</th><th>EAN</th><th>ProdNum</th><th>Barva</th><th>Vel.</th><th>Ks</th><th>Datum</th><th></th>
    </tr>
    {% for r in rows %}
      <tr>
        <td>{{ r.id }}</td>
        <td>{{ r.name }}</td>
        <td>{{ r.ean }}</td>
        <td>{{ r.productNumber }}</td>
        <td>{{ r.barva }}</td>
        <td>{{ r.velikost }}</td>
        <td>{{ r.stock }}</td>
        <td>{{ r.datum }}</td>
        <td>
          <form method="post" action="{{ path('inventory_scan_delete',{id:r.id}) }}">
            <button type="submit">Smazat</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </table>
{% endblock %}
